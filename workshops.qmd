---
title: "Workshops"
format: html
editor: visual
execute:
  message: false
  warning: false
  echo: false
  eval: false
---

```{r}
library(tidyr)
library(reactable)
library(ggplot2)
library(ggmap)
library(plotly)
```


```{r}
#| echo: false
workshops <- tibble::tribble(
          ~Event,   ~Location,    ~Date, ~Contact,
              NA, "UCLouvain", "March 2023",       NA,
              NA,    "Boston", "Mar 2023",       NA,
      "Bioc2023",          NA, "Aug 2023",       NA,
  "EuroBioc2023",          NA, "Sep 2023",       NA
  )

reactable(workshops)
```


```{r}
workshops_geocoded <- workshops |> 
  drop_na(Location) |> 
  mutate_geocode(Location)
```


```{r}
#| eval: true
# need to find a way to automate this, currently have to get the locations locally using code above then hardcode them as below, as needs Google Maps API key to get the geocode info
workshops_geocoded <- tibble::tribble(
  ~Event,   ~Location,        ~Date, ~Contact,        ~lon,       ~lat,
      NA, "UCLouvain", "March 2023",       NA,    4.615875, 50.6696767,
      NA,    "Boston",   "Mar 2023",       NA, -71.0588801, 42.3600825
  )
```

```{r}
#| eval: true
world <- map_data("world")

gg <- ggplot() +
  geom_polygon(data = world, aes(x = long, y = lat, group = group), fill = "grey") +
  geom_jitter(data = workshops_geocoded, aes(x = lon, y = lat, text = paste(Event, Location, sep = "\n")), color = 'red') +
  theme_void()

ggplotly(gg, tooltip = "text")
```
