---
title: "Instructors"
format: html
editor: visual
execute:
  message: false
  warning: false
  echo: false
---

```{r}
library(readr)
library(dplyr)
library(tidyr)
library(reactable)
library(ggmap)
library(plotly)
```

```{r}
# import data and format
instructors <- read_delim("https://raw.githubusercontent.com/Bioconductor/bioconductor-teaching/master/bioc-instructors.md", delim = '|', trim_ws = TRUE) |> 
  filter(Name != "----------")
```

Map and table showing people in the Bioconductor community who are certified Carpentries instructors. If you are one and don't see your name, please add yourself as described in [this GitHub issue](https://github.com/Bioconductor/bioconductor-teaching/issues/22#issuecomment-1384258079).

```{r}
# get coordinates to map
instructors_geocoded <- instructors |> 
  mutate_geocode(Location)
```
```{r}
# Map of instructors
world <- map_data("world")

gg <- ggplot() +
  geom_polygon(data = world, aes(x = long, y = lat, group = group), fill = "grey") +
  geom_jitter(data = instructors_geocoded, aes(x = lon, y = lat, text = paste(Name, Institution, sep = "\n")), color = 'red') +
  theme_void()

ggplotly(gg, tooltip = "text")
```


```{r}
# Table of instructors
instructors_geocoded |>   
    select(Name, Institution, Location) |> 
  reactable(columns = list(
    Name = colDef(cell = function(value, index) {
      # Render as a link
      htmltools::tags$a(href = instructors_geocoded$www[index], target = "_blank", as.character(value))
      })
    ), 
    defaultSorted = "Name",
    defaultPageSize = 100)
```


